{% style %}
.Investor_layout.page-width{margin:0;}.Investor_right_part { flex: 100%; max-width: calc(100% - 425px);}ul.investor-left-blocks {list-style: none;padding: 35px 15px;border-radius: 10px;gap:20px 0;margin: 0;display: flex;flex-wrap: wrap; justify-content: space-between; background-color: #f9f9f9;}li.flex-blocks {display: flex;flex-direction: column;gap: 10px;font-size: 14px;line-height: normal;width: 100%;  justify-content: center;}li.flex-blocks p {margin: 0;}.accordion-heading{display: flex;justify-content: space-between;align-items: center;}a.flex-blocks {gap: 1.5rem;display: flex;flex-direction: column;}img.fornone {height: 94px;width: 94px;}.document-list{margin-top:10px;}.document-list li{font-size:13px !important;}.document-list li img{width:18px;}.Investor_right_part p:first-child {margin-top: 0;}.Investor_right_part * {font-size: 16px;}.arrow_icon {display: inline-block; cursor: pointer;width: 16px;height: 16px;transition: transform 0.3s ease;}.actions {display: flex;}div#content-area{position: sticky;top: 90px;padding-top:8rem;}.accordion-inner h3{margin: 0;}/* hide images only on mobile */
@media screen and (max-width:1199px){.fornone {display: none;}div#content-area{display:none;}}
@media screen and (min-width:1200px){
  li.flex-blocks.active_tab {box-shadow: 1px 1px 9px 5px #e3e2e270;}
 li.flex-blocks{flex: 50%;max-width: calc(50%);padding: 10px 20px;align-items: center;text-align: center;}.investor_left_side {flex: 100%;max-width: 425px;} .Investor_layout.page-width{padding-block: 4rem;display: flex;gap: 36px;} li.flex-blocks img {display:block}ul.investor-left-blocks{gap:50px 0;position: sticky;top: 90px;padding: 35px 23px;} .arrow_icon { display: none !important;}li.flex-blocks img.fornone {display: block !important; margin: 0 auto;max-width: 90px;}
}
 h2.page-title {
    font-size: {{ section.settings.font_size_desktop }}px;
    display: flex;
    align-items: center;
    font-weight: 600;
    gap: 17px;
    margin-top: {{ section.settings.margin_top }}px;
    margin-bottom: {{ section.settings.margin_bottom }}px;
     .heicon { width: 25px;height: 25px;}
  }

  h2.page-title a {
    display: flex;
    align-items: center;
    gap: 17px;
    text-decoration: none;
    color: inherit;
  }

  @media (max-width: 720px) {
    h1.page-title {font-size: 1.5rem;}
    h2.page-title {
      font-size: {{ section.settings.font_size_mobile }}px;
      margin-top: {{ section.settings.margin_top_mobile }}px;
      margin-bottom: {{ section.settings.margin_bottom_mobile }}px;
    }
  }
{% endstyle %}

  <h2 class="page-title">
    <a href="/">
      <svg class="heicon" viewBox="0 0 24 24" aria-hidden="true" focusable="false">
        <circle cx="12" cy="12" r="11" stroke="#000" stroke-width="2" fill="none" />
        <polyline points="13 16 9 12 13 8" stroke="#000" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
      {{ section.settings.heading }}
    </a>
  </h2>
<ul class="investor-left-blocks">
  {%- for block in section.blocks -%}
    <li class="flex-blocks" >
      {%- if page.handle != block.settings.url and block.settings.url != blank -%} <a class="flex-blocks" href="#" data-handle="{{ block.settings.url }}">{%- endif %}
      <img class="fornone" src="{{ block.settings.img_block | img_url: ' ' }}" width="100%" height="100%">
      <p class="accordion-heading">{{ block.settings.title }} <img class="arrow_icon hiddeen " alt="large-up-hide medium-hide" src="https://cdn.shopify.com/s/files/1/0598/8158/6848/files/Rectangle_21_af7be583-9a73-43d4-9212-0a094a12c70e.svg?v=1758378841" width="20px" height="20px"></p>
      {%- if page.handle != block.settings.url -%}</a>{%- endif -%}
      <div class="accordion-content" style="display:none;"></div>
    </li>
  {%- endfor -%}
</ul>
<script>
function initTabs() {
  const tabs = document.querySelectorAll(".tab");
  const reports = document.querySelectorAll(".report");
  if (!tabs.length) return;
  const setActive = quarter => {
    tabs.forEach(tab =>tab.classList.toggle("active", tab.dataset.quarter === quarter));
    reports.forEach(report =>report.classList.toggle("hidden", report.dataset.quarter !== quarter));
  };
  tabs.forEach(tab => {tab.addEventListener("click", () => setActive(tab.dataset.quarter));});
  setActive("Q1"); 
}

var isDesktop = window.matchMedia("(min-width:1200px)").matches;
document.querySelectorAll(".investor-left-blocks a.flex-blocks").forEach(link => {
  link.addEventListener("click", e => {
    e.preventDefault();
    document.querySelectorAll(".investor-left-blocks li").forEach(item => {
      item.classList.remove("active_tab");
    });
    const handle = link.getAttribute("data-handle");
    const li = link.closest("li");
    const accordion = li.querySelector(".accordion-content");
    if (isDesktop) {
      fetch(`/pages/${handle}`)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const doc = parser.parseFromString(html, "text/html");
          const section = doc.querySelector(".Investor_right_part");
          document.getElementById("content-area").innerHTML = section ? section.innerHTML : "No content found";
          initTabs();
           li.classList.add('active_tab');
        })
        .catch(err => console.error("Error loading page:", err));
    } 
    else {
      document.querySelectorAll(".accordion-content").forEach(acc => {
        if (acc !== accordion) {
          acc.style.display = "none";
          acc.closest("li").querySelector(".arrow_icon").style.transform = "rotate(0deg)";
        }
      });
      if (accordion.style.display === "block") {
        accordion.style.display = "none";
        li.querySelector(".arrow_icon").style.transform = "rotate(0deg)";
        return;
      }
      fetch(`/pages/${handle}`)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const doc = parser.parseFromString(html, "text/html");
          const section = doc.querySelector(".Investor_right_part");
          accordion.innerHTML = section ? section.innerHTML : "No content found";
          accordion.style.display = "block";
          li.querySelector(".arrow_icon").style.transform = "rotate(90deg)";

          // re-init tabs
          initTabs();
        })
        .catch(err => console.error("Error loading page:", err));
    }
  });
});
if(isDesktop){
  document.addEventListener("DOMContentLoaded", () => {
    const firstLink = document.querySelector(".investor-left-blocks a");
    if (firstLink) { firstLink.click(); }
  });
}
document.addEventListener("DOMContentLoaded", initTabs); // Run once on initial page load
</script>

{% schema %}
{
  "name": "Investor Left Blocks",
  "class": "investor_left_side",
  "settings": [
      {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "Investor Relation New"
    },
    {
      "type": "number",
      "id": "font_size_desktop",
      "label": "Font Size (Desktop)",
      "default": 30
    },
    {
      "type": "number",
      "id": "font_size_mobile",
      "label": "Font Size (Mobile)",
      "default": 24
    },
    {
      "type": "number",
      "id": "margin_top",
      "label": "Margin Top (Desktop)",
      "default": 40
    },
    {
      "type": "number",
      "id": "margin_bottom",
      "label": "Margin Bottom (Desktop)",
      "default": 40
    },
    {
      "type": "number",
      "id": "margin_top_mobile",
      "label": "Margin Top (Mobile)",
      "default": 20
    },
    {
      "type": "number",
      "id": "margin_bottom_mobile",
      "label": "Margin Bottom (Mobile)",
      "default": 20
    }
  ],
  "blocks": [
    {
      "type": "image_block",
      "name": "Image with Title",
      "settings": [
        {
          "type": "image_picker",
          "id": "img_block",
          "label": "Image"
        },
        {
          "type": "text",
          "id": "title",
          "label": "Image Title"
        },
        {
          "type": "text",
          "id": "url",
          "label": "Update page tempate [our-business]"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Investor Left Blocks"
    }
  ]
}
{% endschema %}
