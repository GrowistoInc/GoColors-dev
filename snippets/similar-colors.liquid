<style>
.swiper-button-prev.similar-prev{
  left: auto;
  right: 36px;
}
  .swiper-button-next.similar-next, .swiper-button-prev.similar-prev{
    top: 17px;
    display: block;
    color: #000;
  }
  .similar-next.swiper-button-next::after, .similar-prev.swiper-button-prev::after{
    font-size: 15px;
    font-weight: bold;
  }
  .swiper.swiper-similar-color{
    position: unset;
  }
  .swiper-similar-color .swiper-wrapper{
     position: unset;
  }
  .main-similar-color-block{
    position: relative;
  }
  .swiper-button-next.similar-next.swiper-button-disabled{
    display: none;
  }
  .swiper-button-prev.similar-prev.swiper-button-disabled{
    display: none;
  }
</style>
{% if product.metafields.custom.similar_product_ %}
<div class="main-similar-color-block">

<div class="custom-data">
  {% assign palette_solids = product.metafields.custom.similar_product_.value %}
  {%- liquid 
      assign has1product = false
      assign availableCount = 0
     assign totalproducts = 0
      if palette_solids
        for prod in palette_solids
         assign totalproducts = totalproducts | plus: 1
          if prod.available == true
            assign has1product = true
            assign availableCount = availableCount | plus: 1
          endif
        endfor
      endif
  -%}
  <div class="similar-header">
    <h3>{{ totalproducts }} {{ block.settings.similar-heading }}</h3>
 {% comment %}   <span>Show more color<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#DF2E84" height="8px" width="8px" version="1.1" id="Layer_1" viewBox="0 0 330 330" xml:space="preserve">
        <path id="XMLID_222_" d="M250.606,154.389l-150-149.996c-5.857-5.858-15.355-5.858-21.213,0.001  c-5.857,5.858-5.857,15.355,0.001,21.213l139.393,139.39L79.393,304.394c-5.857,5.858-5.857,15.355,0.001,21.213  C82.322,328.536,86.161,330,90,330s7.678-1.464,10.607-4.394l149.999-150.004c2.814-2.813,4.394-6.628,4.394-10.606  C255,161.018,253.42,157.202,250.606,154.389z"/>
        </svg> </span>{% endcomment %}
  </div>
  {% if palette_solids %}
    <div class="swiper swiper-similar-color">
      <div class="swiper-wrapper">
      {%- for solid_product in palette_solids -%}
        <div class="swiper-slide">
        <a href="{{ solid_product.url }}">
          {% if solid_product.featured_media %}
          <img class="related-product__image mobile-image {% if forloop.first %}first-image{% endif %}"
               src="{{ solid_product.featured_media | img_url: '100x' }}"
               alt="{{ solid_product.title }}">
          {% endif %}          
        </a>
          <p class="similar_color_name">{{solid_product.metafields.Color.color }} </p>          
        </div>
      {% endfor %}
      </div>
      <div class="swiper-button-prev similar-prev"></div>
      <div class="swiper-button-next similar-next"></div>
    </div>
    {%- comment -%}
    {% if totalproducts > 5 %}
      <a class="number-data" href="{{ product.url }}">
        + {{ totalproducts }}
      </a>
    {% endif %}
    {%- endcomment -%}
  {% endif %}
</div>
</div>
  <!-- <script>
    $(document).ready(function() {
// Swiper: Slider
    new Swiper('.swiper-container', {
        nextButton: '.swiper-button-next',
        prevButton: '.swiper-button-prev',
        slidesPerView: "auto",
        paginationClickable: true,
        spaceBetween: 20,
    });
});
  </script> -->
<script>
  document.addEventListener('DOMContentLoaded', function () {
    var similarswiper = new Swiper('.swiper-similar-color', {
      slidesPerView: 'auto',
      spaceBetween: 5,
      navigation: {
        nextEl: '.swiper-button-next',
        prevEl: '.swiper-button-prev',
      },
    });
  });
</script> 
{% endif %}
