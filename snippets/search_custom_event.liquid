<script>
document.addEventListener('DOMContentLoaded', function () {

  // ---------------------------
  // Normal Search Page Event
  // ---------------------------
  const urlParams = new URLSearchParams(window.location.search);
  const directSearchTerm = urlParams.get('q') || urlParams.get('_ss');

  if (window.location.pathname.includes('/search') && directSearchTerm) {

    detectIncognito().then((result) => {
      const incognito_windowValue = result.isPrivate ? 1 : 0;

      window.dataLayer = window.dataLayer || [];
      window.dataLayer.push({
        event: 'search',
        search_term: directSearchTerm,
       
      });

      console.log('âœ… GA4 search event pushed to dataLayer', 

    });
  }

});
</script>
